A extração de informações 3D de uma cena a partir de imagens 2D pode ser obtida por uma triangulação (Apêndice A.5.3), em que a posição 3D (profundidade) relativa a um par de pontos correspondentes1 entre duas imagens é calculada. O mapa de profundidade, também conhecido como imagem de profundidade, armazena os valores de profundidade estimados para cada ponto de uma imagem 2D, representando a estrutura 3D da cena. A Figura 13 (c) mostra o mapa de profundidade computado por uma triangulação dos pontos correspondentes e não ocluídos das imagens ilustradas na Figura 13 (a) e (b). As áreas mais claras do mapa de profundidade representam as superfícies dos objetos mais próximas do plano da imagem, enquanto as áreas escuras, as superfícies mais distantes.
A profundidade calculada pela triangulação requer que a correspondência de pontos entre um par de imagens seja estimada. Tradicionalmente, a busca por pontos correspondentes é realizada levando em consideração a restrição epipolar (Apêndice A.5), a qual estabelece que, dado um ponto x da primeira vista, a busca por um ponto x′ correspondente na segunda vista não precisa cobrir toda a imagem e restringe-se apenas a uma linha epipolar. A busca pode ser aprimorada empregando imagens retificadas. A retificação de um par de imagens transforma cada plano das imagens de forma que as linhas epipolares se tornem colineares e paralelas horizontalmente [6], permitindo que a busca seja realizada ao longo das linhas horizontais das imagens retificadas, aumentando o desempenho computacional [24].
Na busca por pontos correspondentes, empregando um par de imagens retificadas, a medida de disparidade d, que é a diferença entre os pontos correspondentes das imagens da esquerda e direita, pode ser usada para obter o valor de profundidade z, pela relação definida em [29] como
d = bf 1 (66) z
em que b é a distância entre os centros de projeção das câmeras (baseline) e f é a distância focal. Um algoritmo básico para estimação de um mapa de profundidade entre um par de imagens retificadas é apresentado em [25, 29] e descrito a seguir. Considerando o pixel p1 da primeira imagem I1 (imagem de referência), a busca pelo ponto correspondente p2 na segunda imagem
1Dados dois pontos x e x′, eles são ditos correspondentes se existir um ponto X no espaço 3D, o qual é projetado para o ponto x, em uma primeira vista, e x′ em uma segunda vista [13].
  26
   (a) (b) (c)
Figura 13: Mapa de profundidade (imagem (c)) gerado por uma triangulação dos pontos corres- pondentes das imagens (a) e (b). Fonte: [25].
I2 é realizada ao longo da linha horizontal, em que a similaridade entre p1 e p2 é medida pela comparação entre blocos W que cercam os pixels, como ilustra a Figura 14. A similaridade (correlação) dos blocos pode ser medida pela soma das diferenças absolutas e a disparidade d de um pixel na posição (x, y) na imagem I1 pode ser calculada como
􏰆􏰁 ̃􏰁
d(x,y)= arg min 􏰁􏰁I1(x+i,y+j)−I2(x+i−d,y+j)􏰁􏰁 (67)
 ̃
0≤d≤dmax (i,j)∈W
em que dmax representa a disparidade máxima, limitando a busca, d ̃ é a disparidade candidata para um determinado par de blocos, i e j definem as coordenadas dos pixels pertencentes aos blocos e d(x,y) é a disparidade computada para o pixel na posição (x,y) da imagem I1, com relação à menor diferença de similaridade entre os blocos comparados. A partir da disparidade d computada, a profundidade pode ser obtida pela Equação 66.